#include "InvulnerabilityPowerUp.h"
#include "Spaceship.h"
#include "AnimationManager.h"
#include "BoundingSphere.h"
#include "Sprite.h"
#include <iostream>

InvulnerabilityPowerUp::InvulnerabilityPowerUp() : GameObject("InvulnerabilityPowerUp")
{
    
}

InvulnerabilityPowerUp::~InvulnerabilityPowerUp()
{
    
}


bool InvulnerabilityPowerUp::CollisionTest(shared_ptr<GameObject> o)
{
    if (o->GetType() != GameObjectType("Spaceship")) return false;
    return mBoundingShape->CollisionTest(o->GetBoundingShape());
}

void InvulnerabilityPowerUp::OnCollision(const GameObjectList& objects)
{
    for (auto& obj : objects)
    {
        if (obj->GetType() == GameObjectType("Spaceship"))
        {
            mWorld->FlagForRemoval(GetThisPtr());
        }
    }
}
